# Disk Usage Report Utility
[![.github/workflows/gradle.yml](https://github.com/Daria-Gavrilovaa/Ipprpo3/actions/workflows/gradle.yml/badge.svg)](https://github.com/Daria-Gavrilovaa/Ipprpo3/actions/workflows/gradle.yml)

**Автор:** Дарья Гаврилова  
**Группа:** ИТИ-31  
**Вариант:** 4

## Описание проекта

Это простая программа, которая проверяет свободное место на жестких дисках вашего компьютера. Она анализирует данные системы и выдает результат в удобном компьютерном формате (JSON).

**Для чего это нужно:**
Программа помогает быстро понять:
1. Какие диски переполнены (заняты больше, чем вы разрешили).
2. Сколько всего памяти есть на компьютере и сколько из неё занято.

**Технологии:**
Проект написан на языке **Java (версия 17)**. Для автоматизации процессов сборки и тестирования используется инструмент **Gradle**.

---

## Пример работы

Программа работает в текстовом режиме (через консоль).

**Входные данные (Что происходит внутри):**
Программа сама запрашивает у системы информацию.
*   *Windows:* Запускает PowerShell команду для получения списка дисков.
*   *Linux/macOS:* Запускает системную утилиту `df -h`.

**Выходные данные (Что вы видите на экране):**
Программа выводит отчет в формате JSON. Пример отчета, если диск `C:` переполнен (занят на 95%):

```json
{
  "threshold_exceeded": [
    {
      "filesystem": "C:",
      "total": "500G",
      "used_percent": 95
    }
  ],
  "summary": {
    "total_gb": 597,
    "total_used_gb": 520
  }
}
```

*   `threshold_exceeded` — список дисков, где превышен установленный лимит заполненности.
*   `summary` — общая сводка по всем дискам (Всего ГБ / Занято ГБ).

---

## Предварительная настройка (Конфигурация)

Перед запуском вы можете настроить параметры работы программы. Настройки находятся в файле:
`src/main/resources/app.properties`

Файл можно открыть любым текстовым редактором (Блокнот, Notepad++, VS Code). Для этого в корневой папке нажмите ПКМ и выберите "Открыть с помощью".

**Содержимое файла и значение параметров:**

```properties
# Порог использования в %.
# Если диск заполнен больше, чем на это число, он попадет в отчет.
# Например, 90 означает 90%.
usage.threshold.percent=90

# Единицы измерения для отчета.
# В данной версии программы всегда используется GB, параметр оставлен для будущих обновлений.
output.units=GB
```

> **Совет:** Если вы хотите протестировать отчет, установите значение `usage.threshold.percent=10`, чтобы в отчет попали почти все диски вашего компьютера.

---

## Как выполнить сборку проекта

Сборка — это процесс превращения исходного кода в готовую программу.

**Требования:**
На компьютере должна быть установлена **Java JDK 17** или новее.

**Инструкция для Windows:**
1. Откройте папку с проектом.
2. Нажмите правой кнопкой мыши на пустом месте -> "Открыть в терминале" (или PowerShell).
3. Введите команду:
```powershell
.\gradlew.bat build
```
Дождитесь надписи **BUILD SUCCESSFUL**.

**Инструкция для Linux / macOS:**
1. Откройте терминал в папке проекта.
2. Введите команду:
```bash
./gradlew build
```
Дождитесь надписи **BUILD SUCCESSFUL**.

После успешной сборки готовый файл программы (`disk-usage-report.jar`) появится в папке `build/libs/`.

---

## Как запустить тесты

Тесты — это автоматическая проверка того, что программа работает правильно и не содержит грубых ошибок.

**Команда для запуска:**

Windows:
```powershell
.\gradlew.bat test
```

Linux / macOS:
```bash
./gradlew test
```

**Ожидаемый результат:**
Если всё хорошо, вы увидите сообщение **BUILD SUCCESSFUL**.
Если тесты нашли ошибку, появится сообщение **BUILD FAILED**, и программа укажет, что именно сломалось.

---

## Как запустить приложение

Для быстрого запуска из консоли используйте команду:

Windows:
```powershell
.\gradlew.bat run
```

Linux / macOS:
```bash
./gradlew run
```

После выполнения команды вы увидите JSON-отчет прямо в окне терминала.
